@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Lucky 9 Slot Machine Design System */

@layer base {
  :root {
    /* Dark arcade background */
    --background: 240 20% 8%;
    --foreground: 45 100% 95%;

    /* Card surfaces */
    --card: 240 15% 12%;
    --card-foreground: 45 100% 95%;

    --popover: 240 15% 12%;
    --popover-foreground: 45 100% 95%;

    /* Primary - Vibrant Red */
    --primary: 0 85% 55%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Golden Yellow */
    --secondary: 45 100% 50%;
    --secondary-foreground: 240 20% 10%;

    /* Accent - Electric Blue */
    --accent: 210 100% 55%;
    --accent-foreground: 0 0% 100%;

    --muted: 240 10% 20%;
    --muted-foreground: 240 5% 65%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 240 10% 25%;
    --input: 240 10% 20%;
    --ring: 45 100% 50%;

    --radius: 0.75rem;

    /* Slot machine specific colors */
    --slot-red: 0 85% 55%;
    --slot-yellow: 45 100% 50%;
    --slot-blue: 210 100% 55%;
    --slot-glow-red: 0 100% 60%;
    --slot-glow-yellow: 45 100% 60%;
    --slot-glow-blue: 210 100% 65%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Orbitron', sans-serif;
  }
}

@layer components {
  /* Slot Machine Container */
  .slot-machine {
    @apply flex flex-col items-center justify-center min-h-screen p-4 gap-6;
    background: radial-gradient(ellipse at center, hsl(240 15% 15%) 0%, hsl(var(--background)) 70%);
  }

  /* Header */
  .slot-header {
    @apply text-center;
  }

  .slot-title {
    font-family: 'Press Start 2P', cursive;
    @apply text-4xl md:text-6xl font-bold mb-2;
    background: linear-gradient(
      180deg,
      hsl(var(--slot-yellow)) 0%,
      hsl(45 100% 40%) 50%,
      hsl(var(--slot-yellow)) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 0 40px hsl(var(--slot-glow-yellow) / 0.6);
    filter: drop-shadow(0 0 20px hsl(var(--slot-glow-yellow) / 0.4));
  }

  .slot-subtitle {
    @apply text-muted-foreground text-sm md:text-base tracking-widest uppercase;
  }

  /* Mode Selector */
  .mode-selector {
    @apply flex flex-wrap justify-center gap-2 md:gap-4;
  }

  .mode-btn {
    @apply px-4 py-2 md:px-6 md:py-3 rounded-lg text-xs md:text-sm font-bold uppercase tracking-wider;
    @apply bg-muted text-muted-foreground border-2 border-transparent;
    @apply transition-all duration-300;
    font-family: 'Orbitron', sans-serif;
  }

  .mode-btn:hover:not(:disabled) {
    @apply border-accent/50;
    box-shadow: 0 0 20px hsl(var(--slot-glow-blue) / 0.3);
  }

  .mode-btn.active {
    @apply bg-accent text-accent-foreground border-accent;
    box-shadow: 0 0 30px hsl(var(--slot-glow-blue) / 0.5);
  }

  .mode-btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Slot Display */
  .slot-display {
    @apply relative p-2;
  }

  .slot-frame {
    @apply relative p-6 md:p-8 rounded-2xl;
    background: linear-gradient(
      180deg,
      hsl(240 15% 18%) 0%,
      hsl(240 15% 10%) 100%
    );
    border: 4px solid hsl(var(--slot-yellow) / 0.8);
    box-shadow: 
      0 0 40px hsl(var(--slot-glow-yellow) / 0.3),
      inset 0 2px 10px hsl(0 0% 0% / 0.5),
      inset 0 -2px 10px hsl(0 0% 100% / 0.05);
  }

  .slot-reels {
    @apply flex gap-3 md:gap-6;
  }

  /* Slot Reel */
  .slot-reel-container {
    @apply relative;
  }

  .slot-reel-window {
    @apply relative w-20 h-28 md:w-28 md:h-36 rounded-xl overflow-hidden;
    background: linear-gradient(
      180deg,
      hsl(240 20% 5%) 0%,
      hsl(240 15% 12%) 20%,
      hsl(240 15% 12%) 80%,
      hsl(240 20% 5%) 100%
    );
    border: 3px solid hsl(var(--slot-red) / 0.8);
    box-shadow: 
      inset 0 0 30px hsl(0 0% 0% / 0.8),
      0 0 20px hsl(var(--slot-glow-red) / 0.3);
  }

  .slot-reel-number {
    @apply absolute inset-0 flex items-center justify-center;
    @apply text-5xl md:text-7xl font-black;
    font-family: 'Press Start 2P', cursive;
    color: hsl(var(--slot-yellow));
    text-shadow: 
      0 0 20px hsl(var(--slot-glow-yellow)),
      0 0 40px hsl(var(--slot-glow-yellow) / 0.5);
    transition: transform 0.05s linear;
  }

  .slot-reel-number.spinning {
    animation: reel-spin 0.1s linear infinite;
  }

  @keyframes reel-spin {
    0% { 
      transform: translateY(-20px);
      opacity: 0.5;
    }
    50% {
      transform: translateY(0);
      opacity: 1;
    }
    100% { 
      transform: translateY(20px);
      opacity: 0.5;
    }
  }

  .slot-reel-glow {
    @apply absolute -inset-1 rounded-xl -z-10;
    background: radial-gradient(
      ellipse at center,
      hsl(var(--slot-glow-red) / 0.4) 0%,
      transparent 70%
    );
  }

  /* Light Strips */
  .light-strip {
    @apply absolute left-0 right-0 flex justify-center gap-2;
  }

  .light-strip.top {
    @apply -top-4;
  }

  .light-strip.bottom {
    @apply -bottom-4;
  }

  .light {
    @apply w-3 h-3 rounded-full;
    background: hsl(var(--slot-yellow) / 0.3);
    box-shadow: 0 0 5px hsl(var(--slot-glow-yellow) / 0.3);
  }

  .light.animate {
    animation: light-chase 0.8s ease-in-out infinite;
  }

  @keyframes light-chase {
    0%, 100% {
      background: hsl(var(--slot-red));
      box-shadow: 0 0 15px hsl(var(--slot-glow-red));
    }
    33% {
      background: hsl(var(--slot-yellow));
      box-shadow: 0 0 15px hsl(var(--slot-glow-yellow));
    }
    66% {
      background: hsl(var(--slot-blue));
      box-shadow: 0 0 15px hsl(var(--slot-glow-blue));
    }
  }

  /* Result Display */
  .result-display {
    @apply flex items-center gap-4 px-6 py-3 rounded-xl;
    @apply bg-card border border-secondary/30;
    animation: fade-in 0.5s ease-out;
  }

  .result-label {
    @apply text-muted-foreground uppercase tracking-wider text-sm;
  }

  .result-value {
    @apply text-2xl md:text-3xl font-bold;
    font-family: 'Press Start 2P', cursive;
    color: hsl(var(--slot-yellow));
    text-shadow: 0 0 10px hsl(var(--slot-glow-yellow) / 0.5);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}
